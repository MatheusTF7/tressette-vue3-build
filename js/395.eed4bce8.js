"use strict";(globalThis["webpackChunkburaco_game"]=globalThis["webpackChunkburaco_game"]||[]).push([[395],{1395:(e,o,n)=>{n.r(o),n.d(o,{default:()=>h});var s=n(1758),t=n(9104),a=n(8790);const r={key:0};function c(e,o,n,c,i,l){return(0,s.uX)(),(0,s.CE)("div",null,[o[6]||(o[6]=(0,s.Lk)("h1",null,"Peer-to-Peer Chat Room",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>i.roomCode=e),placeholder:"Enter Room Code"},null,512),[[t.Jo,i.roomCode]]),(0,s.Lk)("button",{onClick:o[1]||(o[1]=(...e)=>l.connectAsHost&&l.connectAsHost(...e))},"Host Room"),(0,s.Lk)("button",{onClick:o[2]||(o[2]=(...e)=>l.connectAsGuest&&l.connectAsGuest(...e))},"Join Room"),i.messages.length?((0,s.uX)(),(0,s.CE)("div",r,[o[5]||(o[5]=(0,s.Lk)("h2",null,"Messages",-1)),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.messages,((e,o)=>((0,s.uX)(),(0,s.CE)("li",{key:o},(0,a.v_)(e),1)))),128))])])):(0,s.Q3)("",!0),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>i.newMessage=e),onKeyup:o[4]||(o[4]=(0,t.jR)(((...e)=>l.sendMessage&&l.sendMessage(...e)),["enter"])),placeholder:"Type a message..."},null,544),[[t.Jo,i.newMessage]])])}n(239);var i=n(8964);const l={data(){return{peer:null,conn:null,roomCode:"2fb84634-32dd-49af-b564-d9aa9385abe1",messages:[],newMessage:""}},methods:{connectAsHost(){this.peer=new i.xM("2fb84634-32dd-49af-b564-d9aa9385abe1"),this.peer.on("open",(e=>{console.log("Meu ID é: "+e),this.roomCode=e})),this.peer.on("connection",(e=>{console.log("Nova conexão recebida de: "+e.peer),this.conn=e,this.setupConnection()})),this.peer.on("error",(e=>{console.error("Erro no peer: ",e)}))},connectAsGuest(){if(!this.roomCode)return alert("Por favor, insira um código de sala.");this.peer=new i.xM,this.conn=this.peer.connect(this.roomCode),this.conn.on("open",(()=>{console.log("Conectado ao host: "+this.roomCode),this.setupConnection()})),this.conn.on("error",(e=>{console.error("Erro na conexão: ",e)}))},setupConnection(){this.conn&&this.conn.on("data",(e=>{console.log("Mensagem recebida: "+e),this.messages.push(e)}))},sendMessage(){this.conn?this.newMessage.trim()&&(this.conn.send(this.newMessage),this.messages.push(this.newMessage),this.newMessage=""):console.error("Conexão não estabelecida.")}}};var u=n(2807);const d=(0,u.A)(l,[["render",c],["__scopeId","data-v-497f3196"]]),h=d}}]);